FUNCTION(DISCOVER_TOOLCHAIN PREFIX)
    find_program(GCC_AR "${PREFIX}-ar" REQUIRED)
    find_program(GCC_LD "${PREFIX}-ld" REQUIRED)
    find_program(GCC_NM "${PREFIX}-nm" REQUIRED)
    find_program(GCC_OBJDUMP "${PREFIX}-objdump" REQUIRED)
    find_program(GCC_RANLIB "${PREFIX}-ranlib" REQUIRED)
    find_program(GCC "${PREFIX}-gcc" REQUIRED)
    find_program(GPP "${PREFIX}-g++" REQUIRED)
    message(STATUS "GCC-ar: ${GCC_AR}")
    message(STATUS "GCC-ld: ${GCC_LD}")
    message(STATUS "GCC-nm: ${GCC_NM}")
    message(STATUS "GCC-objdump: ${GCC_OBJDUMP}")
    message(STATUS "GCC-ranlib: ${GCC_RANLIB}")
    message(STATUS "GCC: ${GCC}")
    message(STATUS "G++: ${GPP}")
    set(CMAKE_AR      "${GCC_AR}" CACHE INTERNAL "")
    set(CMAKE_LINKER  "${GCC_LD}" CACHE INTERNAL "")
    set(CMAKE_NM      "${GCC_NM}" CACHE INTERNAL "")
    set(CMAKE_OBJDUMP "${GCC_OBJDUMP}" CACHE INTERNAL "")
    set(CMAKE_RANLIB  "${GCC_RANLIB}" CACHE INTERNAL "")
    set(CMAKE_CXX_COMPILER "${GPP}" CACHE INTERNAL "")
    set(CMAKE_C_COMPILER "${GCC}" PARENT_SCOPE)
ENDFUNCTION(DISCOVER_TOOLCHAIN)
